{"ast":null,"code":"/* eslint-disable no-console */\n\n/* eslint-disable no-unused-vars */\n\n/* eslint-disable no-mixed-spaces-and-tabs */\n\n/* \n\t[VUE] Main imports\n\tDefine main imports to create the application\n*/\nimport ButtonBase from \"./ButtonBase.vue\"; //\n\n/*\n\t[VUE] Component\n\tDefine properties and methods => https://bit.ly/3GdqmXg\n*/\n\nexport default {\n  // [VUE] Component name\n  name: 'FormBase',\n\n  /*\n  \t[VUE] Components => https://bit.ly/3GdqmXg\n  \tUsed to inject children components\n  */\n  components: {\n    ButtonBase\n  },\n  //\n\n  /* \n  \t[VUE] Props => https://fr.vuejs.org/v2/guide/components-props.html\n  \tData binding CTRL => VIEW\n  */\n  props: {\n    formValue: {\n      type: Object,\n      required: true,\n      default: () => {}\n    }\n  },\n  //\n\n  /*\n  \t[VUE] Computed => https://vuejs.org/guide/essentials/computed.html\n  \tUsed to define simple in-template expression, \n  \tthe expression below bind values from Store getters\n  */\n  computed: {\n    cmpFormValue: function () {\n      return this.formValue;\n    }\n  },\n\n  //\n\n  /*\n  \t[VUE] Data => https://bit.ly/3GdqmXg\n  \tUsed to inject data in the Vue.js component\n  */\n  data() {\n    return {\n      cmpLoginButton: {\n        type: 'submit',\n        content: 'Login'\n      }\n    };\n  },\n\n  //\n\n  /*\n  \t[VUE] Methods => https://bit.ly/3GdqmXg\n  \tUsed to add methods in Vue.js component\n  */\n  methods: {\n    onClickButton: function (event) {\n      // Prepare forme validation values\n      let isValide = true;\n      let validFomValue = {}; // Get each item form\n\n      for (let prop in this.cmpFormValue) {\n        if (this.cmpFormValue[prop].required) {\n          if (['email', 'password', 'text', 'textarea'].indexOf(this.cmpFormValue[prop].type) !== -1) {\n            if (!this.cmpFormValue[prop].value) {\n              isValide = false;\n            } else {\n              if (this.cmpFormValue[prop].min) {\n                if (this.cmpFormValue[prop].value.length < this.cmpFormValue[prop].min) {\n                  isValide = false;\n                }\n              } else {\n                if (!this.cmpFormValue[prop].value.length) {\n                  isValide = false;\n                }\n              }\n            }\n          }\n        } // Add value in the valid form value\n\n\n        validFomValue[prop] = this.cmpFormValue[prop].value;\n      } // Check form validation\n\n\n      if (isValide) {\n        // Emit event to parent component\n        this.$emit('onSubmit', {\n          from: 'FormBase',\n          value: validFomValue\n        });\n      }\n    }\n  },\n  //\n\n  /*\n  \t[VUE] Hooks => https://vuejs.org/api/options-lifecycle.html\n  \tCalled after the instance has finished processing all state-related options.\n  */\n  created: function () {},\n  //\n\n  /*\n  \t[VUE] Hooks => https://vuejs.org/api/options-lifecycle.html\n  \tCalled after the component has been mounted.\n  */\n  mounted: function () {} //\n\n}; //","map":{"version":3,"mappings":"AAwCC;;AACA;;AACA;;AAEA;;;;AAII,OAAOA,UAAP,MAAuB,kBAAvB,C,CACJ;;AAEA;;;;;AAIC,eAAe;AACd;AACAC,MAAI,EAAE,UAFQ;;AAId;;;;AAICC,YAAU,EAAE;AAAEF;AAAF,GARC;AASd;;AAEA;;;;AAICG,OAAK,EAAE;AACNC,aAAS,EAAE;AACVC,UAAI,EAAEC,MADI;AAEVC,cAAQ,EAAE,IAFA;AAGVC,aAAO,EAAE,MAAM,CAAC;AAHN;AADL,GAfM;AAsBd;;AAEA;;;;;AAKCC,UAAQ,EAAE;AACTC,gBAAY,EAAE,YAAU;AACvB,aAAO,KAAKN,SAAZ;AACD;AAHS,GA7BG;;AAkCd;;AAEA;;;;AAICO,MAAI,GAAE;AACL,WAAO;AACNC,oBAAc,EAAE;AACfP,YAAI,EAAE,QADS;AAEfQ,eAAO,EAAE;AAFM;AADV,KAAP;AAMA,GA/CY;;AAgDd;;AAEA;;;;AAIaC,SAAO,EAAE;AACpBC,iBAAa,EAAE,UAASC,KAAT,EAAe;AAC7B;AACA,UAAIC,QAAO,GAAI,IAAf;AACA,UAAIC,aAAY,GAAI,EAApB,CAH6B,CAK7B;;AACA,WAAK,IAAIC,IAAT,IAAiB,KAAKT,YAAtB,EAAoC;AACnC,YAAI,KAAKA,YAAL,CAAkBS,IAAlB,EAAwBZ,QAA5B,EAAsC;AACrC,cAAI,CAAC,OAAD,EAAU,UAAV,EAAsB,MAAtB,EAA8B,UAA9B,EAA0Ca,OAA1C,CAAmD,KAAKV,YAAL,CAAkBS,IAAlB,EAAwBd,IAA3E,MAAsF,CAAC,CAA3F,EAA8F;AAC7F,gBAAG,CAAC,KAAKK,YAAL,CAAkBS,IAAlB,EAAwBE,KAA5B,EAAkC;AAAEJ,sBAAO,GAAI,KAAX;AAAiB,aAArD,MACI;AACH,kBAAI,KAAKP,YAAL,CAAkBS,IAAlB,EAAwBG,GAA5B,EAAiC;AAChC,oBAAG,KAAKZ,YAAL,CAAkBS,IAAlB,EAAwBE,KAAxB,CAA8BE,MAA9B,GAAuC,KAAKb,YAAL,CAAkBS,IAAlB,EAAwBG,GAAlE,EAAsE;AAAEL,0BAAO,GAAI,KAAX;AAAiB;AAC1F,eAFA,MAGI;AACH,oBAAI,CAAC,KAAKP,YAAL,CAAkBS,IAAlB,EAAwBE,KAAxB,CAA8BE,MAAnC,EAA2C;AAAEN,0BAAO,GAAI,KAAX;AAAiB;AAC/D;AACD;AACD;AACD,SAbmC,CAenC;;;AACAC,qBAAa,CAACC,IAAD,CAAb,GAAsB,KAAKT,YAAL,CAAkBS,IAAlB,EAAwBE,KAA9C;AACD,OAvB6B,CAyB7B;;;AACA,UAAIJ,QAAJ,EAAc;AACb;AACA,aAAKO,KAAL,CAAW,UAAX,EAAuB;AACtBC,cAAI,EAAE,UADgB;AAEtBJ,eAAK,EAAEH;AAFe,SAAvB;AAID;AACA;AAlCmB,GAtDR;AA0FL;;AAET;;;;AAICQ,SAAO,EAAE,YAAU,CAAE,CAhGR;AAiGd;;AAEA;;;;AAICC,SAAO,EAAE,YAAU,CAAE,CAvGR,CAwGd;;AAxGc,CAAf,C,CA0GD","names":["ButtonBase","name","components","props","formValue","type","Object","required","default","computed","cmpFormValue","data","cmpLoginButton","content","methods","onClickButton","event","isValide","validFomValue","prop","indexOf","value","min","length","$emit","from","created","mounted"],"sourceRoot":"","sources":["C:\\Users\\haiix\\Desktop\\ITIC Paris - Projet,Exercice\\cinema-vuejs\\src\\components\\base\\FormBase.vue"],"sourcesContent":["<template>\n\t<div \n\t\tclass=\"form-base-component\"\n\t>\n\t\t<form @submit=\"$event => $event.preventDefault()\">\n\t\t\t<!-- Loop on an object -->\n\t\t\t<ul>\n\t\t\t\t<li \n\t\t\t\t\tv-for=\"( prop, idx ) in cmpFormValue\" \n\t\t\t\t\t:key=\"`item-${idx}`\"\n\t\t\t\t>\n\t\t\t\t\t<label \n\t\t\t\t\t\t:for=\"prop.name\"\n\t\t\t\t\t\tv-text=\"prop.label\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input \n\t\t\t\t\t\t:type=\"prop.type\"\n\t\t\t\t\t\t:placeholder=\"prop.placeholder\"\n\t\t\t\t\t\t:min=\"prop.min ? prop.min : undefined\"\n\t\t\t\t\t\t:required=\"prop.required ? prop.required : undefined\"\n\t\t\t\t\t\tv-model=\"prop.value\"\n\t\t\t\t\t>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<!-- Define ButtonBase props strategy -->\n\t\t\t<ButtonBase \n\t\t\t\tv-if=\"cmpLoginButton\"\n\t\t\t\t:buttonvalue=\"cmpLoginButton\"\n\t\t\t\t:buttondisabled=\"false\"\n\n\t\t\t\t@onClickButton=\"onClickButton($event)\"\n\t\t\t/>\n\t\t</form>\n\n\t</div>\n</template>\n\n<script>\n\t/* eslint-disable no-console */\n\t/* eslint-disable no-unused-vars */\n\t/* eslint-disable no-mixed-spaces-and-tabs */\n\n\t/* \n\t\t[VUE] Main imports\n\t\tDefine main imports to create the application\n\t*/\n    \timport ButtonBase from \"./ButtonBase.vue\";\n\t//\n\n\t/*\n\t\t[VUE] Component\n\t\tDefine properties and methods => https://bit.ly/3GdqmXg\n\t*/\n\t\texport default {\n\t\t\t// [VUE] Component name\n\t\t\tname: 'FormBase',\n\n\t\t\t/*\n\t\t\t\t[VUE] Components => https://bit.ly/3GdqmXg\n\t\t\t\tUsed to inject children components\n\t\t\t*/\n\t\t\t\tcomponents: { ButtonBase },\n\t\t\t//\n\n\t\t\t/* \n\t\t\t\t[VUE] Props => https://fr.vuejs.org/v2/guide/components-props.html\n\t\t\t\tData binding CTRL => VIEW\n\t\t\t*/\n\t\t\t\tprops: {\n\t\t\t\t\tformValue: {\n\t\t\t\t\t\ttype: Object,\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tdefault: () => {}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t//\n\n\t\t\t/*\n\t\t\t\t[VUE] Computed => https://vuejs.org/guide/essentials/computed.html\n\t\t\t\tUsed to define simple in-template expression, \n\t\t\t\tthe expression below bind values from Store getters\n\t\t\t*/\n\t\t\t\tcomputed: {\n\t\t\t\t\tcmpFormValue: function(){\n\t\t\t\t\t\treturn this.formValue\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t//\n\n\t\t\t/*\n\t\t\t\t[VUE] Data => https://bit.ly/3GdqmXg\n\t\t\t\tUsed to inject data in the Vue.js component\n\t\t\t*/\n\t\t\t\tdata(){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcmpLoginButton: {\n\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t\tcontent: 'Login',\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t//\n\n\t\t\t/*\n\t\t\t\t[VUE] Methods => https://bit.ly/3GdqmXg\n\t\t\t\tUsed to add methods in Vue.js component\n\t\t\t*/\n                methods: {\n\t\t\t\t\tonClickButton: function(event){\n\t\t\t\t\t\t// Prepare forme validation values\n\t\t\t\t\t\tlet isValide = true;\n\t\t\t\t\t\tlet validFomValue = {};\n\n\t\t\t\t\t\t// Get each item form\n\t\t\t\t\t\tfor( let prop in this.cmpFormValue ){\n\t\t\t\t\t\t\tif( this.cmpFormValue[prop].required ){\n\t\t\t\t\t\t\t\tif( ['email', 'password', 'text', 'textarea'].indexOf( this.cmpFormValue[prop].type ) !== -1 ){\n\t\t\t\t\t\t\t\t\tif(!this.cmpFormValue[prop].value){ isValide = false } \n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tif( this.cmpFormValue[prop].min ){\n\t\t\t\t\t\t\t\t\t\t\tif(this.cmpFormValue[prop].value.length < this.cmpFormValue[prop].min){ isValide = false }\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\t\tif( !this.cmpFormValue[prop].value.length ){ isValide = false }\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Add value in the valid form value\n\t\t\t\t\t\t\tvalidFomValue[prop] = this.cmpFormValue[prop].value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Check form validation\n\t\t\t\t\t\tif( isValide ){\n\t\t\t\t\t\t\t// Emit event to parent component\n\t\t\t\t\t\t\tthis.$emit('onSubmit', { \n\t\t\t\t\t\t\t\tfrom: 'FormBase',\n\t\t\t\t\t\t\t\tvalue: validFomValue,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n            //\n\n\t\t\t/*\n\t\t\t\t[VUE] Hooks => https://vuejs.org/api/options-lifecycle.html\n\t\t\t\tCalled after the instance has finished processing all state-related options.\n\t\t\t*/\n\t\t\t\tcreated: function(){},\n\t\t\t//\n\n\t\t\t/*\n\t\t\t\t[VUE] Hooks => https://vuejs.org/api/options-lifecycle.html\n\t\t\t\tCalled after the component has been mounted.\n\t\t\t*/\n\t\t\t\tmounted: function(){},\n\t\t\t//\n\t\t}\n\t//\n</script>\n\n<style scoped>\n</style>"]},"metadata":{},"sourceType":"module"}