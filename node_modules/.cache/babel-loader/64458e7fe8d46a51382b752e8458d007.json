{"ast":null,"code":"/* eslint-disable no-console */\n\n/* eslint-disable no-unused-vars */\nexport default {\n  /* \n      [STORE] State => https://bit.ly/3ua8avj\n      Define store private states\n  */\n  state: {\n    fetchresponse: undefined\n  },\n  //\n\n  /* \n      [STORE] Getters => https://bit.ly/3ua8avj\n      Define methods to export state value\n  */\n  getters: {\n    fetchresponse: state => state.fetchresponse\n  },\n  //\n\n  /* \n      [STORE] Muttation => https://bit.ly/3ua8avj\n      Define setters to update state value\n  */\n  mutations: {\n    fetchresponse(state, payload) {\n      state.fetchresponse = payload.data;\n    }\n\n  },\n  //\n\n  /* \n      [STORE] Actions => https://bit.ly/3ua8avj\n      Define dispatchers to call state mutations\n  */\n  actions: {\n    getOperator({\n      dispatch,\n      commit,\n      state\n    }, data) {\n      fetch(`http://localhost:9449/${data.query}`, {\n        method: 'GET'\n      }).then(apiResponse => {\n        if (apiResponse.ok) {\n          return apiResponse.json();\n        } else {\n          throw apiResponse;\n        }\n      }).then(jsonResponse => {\n        // Check jsonResponse\n        if (jsonResponse[0]) {\n          // Update 'fetchresponse' state\n          commit('fetchresponse', {\n            data: {\n              ok: true,\n              from: 'getOperator',\n              data: jsonResponse[0]\n            }\n          }); // Dispatch 'ui' module action\n\n          dispatch('setUiSate', {\n            mutation: 'userinfos',\n            value: jsonResponse[0]\n          }); // Save user infos in LocalStorage\n\n          window.localStorage.setItem('userinfos', JSON.stringify(jsonResponse[0]));\n        }\n      }).catch(apiError => {\n        console.log('apiError', apiError);\n      });\n    }\n\n  } //\n\n};","map":{"version":3,"sources":["C:/Users/haiix/Desktop/ITIC Paris - Projet,Exercice/cinema-vuejs/src/store/modules/crud.js"],"names":["state","fetchresponse","undefined","getters","mutations","payload","data","actions","getOperator","dispatch","commit","fetch","query","method","then","apiResponse","ok","json","jsonResponse","from","mutation","value","window","localStorage","setItem","JSON","stringify","catch","apiError","console","log"],"mappings":"AAAA;;AACA;AAEA,eAAc;AACV;AACJ;AACA;AACA;AACQA,EAAAA,KAAK,EAAE;AACHC,IAAAA,aAAa,EAAEC;AADZ,GALD;AAQV;;AAEA;AACJ;AACA;AACA;AACQC,EAAAA,OAAO,EAAE;AACLF,IAAAA,aAAa,EAAGD,KAAD,IAAWA,KAAK,CAACC;AAD3B,GAdH;AAiBV;;AAEA;AACJ;AACA;AACA;AACQG,EAAAA,SAAS,EAAE;AACPH,IAAAA,aAAa,CAAED,KAAF,EAASK,OAAT,EAAkB;AAAEL,MAAAA,KAAK,CAACC,aAAN,GAAsBI,OAAO,CAACC,IAA9B;AAAoC;;AAD9D,GAvBL;AA0BV;;AAEA;AACJ;AACA;AACA;AACQC,EAAAA,OAAO,EAAE;AACLC,IAAAA,WAAW,CAAE;AAAEC,MAAAA,QAAF;AAAYC,MAAAA,MAAZ;AAAoBV,MAAAA;AAApB,KAAF,EAA+BM,IAA/B,EAAqC;AAC5CK,MAAAA,KAAK,CAAG,yBAAwBL,IAAI,CAACM,KAAM,EAAtC,EAAyC;AAC1CC,QAAAA,MAAM,EAAE;AADkC,OAAzC,CAAL,CAGCC,IAHD,CAGOC,WAAW,IAAI;AAClB,YAAIA,WAAW,CAACC,EAAhB,EAAoB;AAAE,iBAAOD,WAAW,CAACE,IAAZ,EAAP;AAA2B,SAAjD,MACI;AAAE,gBAAMF,WAAN;AAAmB;AAC5B,OAND,EAOCD,IAPD,CAOOI,YAAY,IAAI;AACnB;AACA,YAAIA,YAAY,CAAC,CAAD,CAAhB,EAAqB;AACjB;AACAR,UAAAA,MAAM,CAAE,eAAF,EAAmB;AAAEJ,YAAAA,IAAI,EAAE;AAC7BU,cAAAA,EAAE,EAAE,IADyB;AAE7BG,cAAAA,IAAI,EAAE,aAFuB;AAG7Bb,cAAAA,IAAI,EAAEY,YAAY,CAAC,CAAD;AAHW;AAAR,WAAnB,CAAN,CAFiB,CAQjB;;AACAT,UAAAA,QAAQ,CAAC,WAAD,EAAc;AAClBW,YAAAA,QAAQ,EAAE,WADQ;AAElBC,YAAAA,KAAK,EAAEH,YAAY,CAAC,CAAD;AAFD,WAAd,CAAR,CATiB,CAcjB;;AACAI,UAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,EAAyCC,IAAI,CAACC,SAAL,CAAeR,YAAY,CAAC,CAAD,CAA3B,CAAzC;AACH;AACJ,OA1BD,EA2BCS,KA3BD,CA2BQC,QAAQ,IAAI;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,QAAxB;AACH,OA7BD;AA8BH;;AAhCI,GAhCH,CAkEV;;AAlEU,CAAd","sourcesContent":["/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n\nexport default{\n    /* \n        [STORE] State => https://bit.ly/3ua8avj\n        Define store private states\n    */\n        state: {\n            fetchresponse: undefined,\n        },\n    //\n\n    /* \n        [STORE] Getters => https://bit.ly/3ua8avj\n        Define methods to export state value\n    */\n        getters: {\n            fetchresponse: (state) => state.fetchresponse,\n        },\n    //\n\n    /* \n        [STORE] Muttation => https://bit.ly/3ua8avj\n        Define setters to update state value\n    */\n        mutations: {\n            fetchresponse( state, payload ){ state.fetchresponse = payload.data },\n        },\n    //\n\n    /* \n        [STORE] Actions => https://bit.ly/3ua8avj\n        Define dispatchers to call state mutations\n    */\n        actions: {\n            getOperator( { dispatch, commit, state }, data ){\n                fetch( `http://localhost:9449/${data.query}`, {\n                    method: 'GET'\n                })\n                .then( apiResponse => {\n                    if( apiResponse.ok ){ return apiResponse.json() }\n                    else{ throw apiResponse } \n                })\n                .then( jsonResponse => {\n                    // Check jsonResponse\n                    if( jsonResponse[0] ){\n                        // Update 'fetchresponse' state\n                        commit( 'fetchresponse', { data: {\n                            ok: true,\n                            from: 'getOperator',\n                            data: jsonResponse[0]\n                        }})\n\n                        // Dispatch 'ui' module action\n                        dispatch('setUiSate', { \n                            mutation: 'userinfos',\n                            value: jsonResponse[0],\n                        });\n\n                        // Save user infos in LocalStorage\n                        window.localStorage.setItem('userinfos', JSON.stringify(jsonResponse[0]) );\n                    }\n                })\n                .catch( apiError => {\n                    console.log('apiError', apiError)\n                });\n            }\n        }\n    //\n}"]},"metadata":{},"sourceType":"module"}